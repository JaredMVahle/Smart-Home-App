<AlarmScreen>:
    md_bg_color: app.bg_color

    MDBoxLayout:
        orientation: 'vertical'
        padding: "24dp"
        spacing: "12dp"

        MDBoxLayout:
            size_hint_y: None
            height: "48dp"

            MDLabel:
                text: "Light Control"
                font_size: "20sp"
                bold: True
                halign: "left"
                theme_text_color: "Custom"
                text_color: app.text_color
                color: self.text_color

            MDIconButton:
                icon: "arrow-left"
                pos_hint: {"center_y": 0.5}
                icon_color: app.accent_color
                on_release: app.switch_screen("home")

        MDGridLayout:
            cols: 3
            spacing: "16dp"
            padding: "0dp", "8dp"
            size_hint_y: None
            height: self.minimum_height
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDButton:
                line_color: app.text_color
                theme_text_color: "Custom"
                text_color: app.text_color
                theme_text_color: "Custom"
                text: "Bedroom"
                md_bg_color: root.selected_bg_color if root.selected_room == "Bedroom" else app.bg_color
                text_color: app.text_color
                size_hint: None, None
                size: "110dp", "48dp"
                radius: [24]
                pos_hint: {"center_x": 0.5}
                on_release: root.handle_room_selection("Bedroom")

            MDButton:
                line_color: app.text_color
                theme_text_color: "Custom"
                text_color: app.text_color
                theme_text_color: "Custom"
                text: "Living Room"
                md_bg_color: root.selected_bg_color if root.selected_room == "Living Room" else app.bg_color
                text_color: app.text_color
                size_hint: None, None
                size: "110dp", "48dp"
                radius: [24]
                pos_hint: {"center_x": 0.5}
                on_release: root.handle_room_selection("Living Room")

            MDButton:
                line_color: app.text_color
                theme_text_color: "Custom"
                text_color: app.text_color
                theme_text_color: "Custom"
                text: "Kitchen"
                md_bg_color: root.selected_bg_color if root.selected_room == "Kitchen" else app.bg_color
                text_color: app.text_color
                size_hint: None, None
                size: "110dp", "48dp"
                radius: [24]
                pos_hint: {"center_x": 0.5}
                on_release: root.handle_room_selection("Kitchen")

        MDLabel:
            text: "Selected Room: [b]{}[/b]".format(root.selected_room)
            markup: True
            halign: "center"
            text_color: app.text_color

        MDBoxLayout:
            orientation: "vertical"
            spacing: "16dp"
            padding: "16dp"

            MDLabel:
                text: "Light Power"
                halign: "center"
                text_color: app.text_color

            MDSwitch:
                pos_hint: {"center_x": 0.5}
                active: root.light_on
                on_active: root.toggle_light(*args)

            MDLabel:
                text: "Brightness: {}%".format(int(root.brightness))
                halign: "center"
                text_color: app.text_color

            MDSlider:
                min: 0
                max: 100
                value: root.brightness
                on_value: root.on_brightness_change(*args)

            MDLabel:
                text: "Hue: {}Â°".format(int(root.hue))
                halign: "center"
                text_color: app.text_color

            MDSlider:
                min: 0
                max: 360
                value: root.hue
                on_value: root.on_color_change(*args)