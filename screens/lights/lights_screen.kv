<LightsScreen>:
    name: "lights"

    MDBoxLayout:
        orientation: "vertical"
        padding: "24dp"
        spacing: "16dp"

        MDLabel:
            text: "ðŸ’¡ Select a Room"
            halign: "center"
            bold: True
            font_size: "18sp"

        MDBoxLayout:
            orientation: "horizontal"
            spacing: "12dp"
            size_hint_y: None
            height: "48dp"

            MDButton:
                text: "Bedroom"
                style: "elevated"
                on_release: root.handle_room_selection("Bedroom")

            MDButton:
                text: "Living Room"
                style: "elevated"
                on_release: root.handle_room_selection("Living Room")

            MDButton:
                text: "Kitchen"
                style: "elevated"
                on_release: root.handle_room_selection("Kitchen")

        BoxLayout:
            id: controls
            orientation: "vertical"
            spacing: "16dp"
            padding: "12dp"
            opacity: 1 if root.selected_room else 0
            disabled: not root.selected_room

            MDLabel:
                text: f"Controls for {root.selected_room}"
                halign: "center"
                bold: True
                font_size: "16sp"

            MDBoxLayout:
                orientation: "horizontal"
                spacing: "12dp"
                size_hint_y: None
                height: "48dp"

                MDLabel:
                    text: "Lights"
                    halign: "left"
                    font_size: "16sp"
                    bold: True

                MDSwitch:
                    pos_hint: {"center_y": .5}
                    active: root.light_on
                    on_active: root.toggle_light(self.active)

            MDLabel:
                text: "ðŸŽ¨ Hue Selector"
                halign: "center"
                font_size: "15sp"

            MDSlider:
                id: hue_slider
                min: 0
                max: 360
                value: root.hue
                on_value: root.on_color_change(self, self.value)
                hint: True

            MDLabel:
                text: "ðŸ”† Brightness"
                halign: "center"
                font_size: "15sp"

            MDSlider:
                id: bright_slider
                min: 0
                max: 100
                value: root.brightness
                on_value: root.on_brightness_change(self, self.value)
                hint: True
