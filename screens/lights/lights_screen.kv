<LightsScreen>:
    name: "lights"

    MDBoxLayout:
        orientation: "vertical"
        padding: "16dp"
        spacing: "16dp"

        MDTopAppBar:
            title: "Lights Control"
            elevation: 4
            left_action_items: [["arrow-left", lambda x: app.switch_screen("home")]]

        MDLabel:
            text: "ðŸ’¡ Select a Room"
            halign: "center"
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: "horizontal"
            spacing: "12dp"
            size_hint_y: None
            height: "48dp"
            padding: "0dp", "0dp", "0dp", "8dp"

            MDButton:
                text: "Bedroom"
                variant: "outlined"
                on_release: root.handle_room_selection("Bedroom")

            MDButton:
                text: "Living Room"
                variant: "outlined"
                on_release: root.handle_room_selection("Living Room")

            MDButton:
                text: "Kitchen"
                variant: "outlined"
                on_release: root.handle_room_selection("Kitchen")

        MDLabel:
            text: "Selected Room: [b]{}[/b]".format(root.selected_room)
            markup: True
            halign: "center"
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: "vertical"
            spacing: "16dp"

            MDLabel:
                text: "Light Power"
                halign: "center"

            MDSwitch:
                pos_hint: {"center_x": 0.5}
                active: root.light_on
                on_active: root.toggle_light(*args)

            MDLabel:
                text: "Brightness: {}%".format(int(root.brightness))
                halign: "center"

            MDSlider:
                min: 0
                max: 100
                value: root.brightness
                on_value: root.on_brightness_change(*args)

            MDLabel:
                text: "Hue: {}Â°".format(int(root.hue))
                halign: "center"

            MDSlider:
                min: 0
                max: 360
                value: root.hue
                on_value: root.on_color_change(*args)
