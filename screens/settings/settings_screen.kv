<SettingsScreen>:
    md_bg_color: app.bg_color

    MDBoxLayout:
        orientation: 'vertical'
        padding: "24dp"
        spacing: "12dp"

        MDBoxLayout:
            size_hint_y: None
            height: "48dp"

            MDLabel:
                text: "‚öôÔ∏è Settings"
                font_size: "20sp"
                bold: True
                halign: "left"
                theme_text_color: "Custom"
                text_color: app.text_color

            MDIconButton:
                icon: "home"
                pos_hint: {"center_y": 0.5}
                icon_color: app.accent_color
                on_release: app.switch_screen("home")

        # Replaces deprecated MDSeparator
        Widget:
            size_hint_y: None
            height: "1dp"
            canvas.before:
                Color:
                    rgba: app.accent_color if hasattr(app, "accent_color") else (0.5, 0.5, 0.5, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size

        MDLabel:
            text: "Choose Theme"
            font_size: "16sp"
            bold: True
            theme_text_color: "Custom"
            text_color: app.text_color
            color: self.text_color
            size_hint_y: None
            height: self.texture_size[1]

        ScrollView:
            do_scroll_y: False
            bar_width: 0

            MDBoxLayout:
                id: theme_row
                adaptive_width: True
                height: self.minimum_height
                padding: "8dp"
                spacing: "16dp"
                size_hint_x: None
                orientation: "horizontal"

        MDLabel:
            text: "Preferences"
            font_size: "16sp"
            bold: True
            theme_text_color: "Custom"
            text_color: app.text_color
            color: self.text_color
            size_hint_y: None
            height: self.texture_size[1]
            padding: 0, "12dp"

        MDBoxLayout:
            size_hint_y: None
            height: "48dp"
            spacing: "12dp"
            padding: 0, "6dp"

            MDLabel:
                text: "ü™µ Enable Logging"
                font_size: "14sp"
                theme_text_color: "Custom"
                text_color: app.text_color
                color: self.text_color
                halign: "left"

            MDSwitch:
                id: log_toggle
                pos_hint: {"center_y": 0.5}
                thumb_color_active: app.accent_color
                on_active: root.toggle_logging(self.active)

        Widget:
